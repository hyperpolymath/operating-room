= Operating Room (formerly big-up)

image:https://img.shields.io/badge/License-AGPL_3.0-blue.svg[AGPL-3.0,link="https://opensource.org/licenses/AGPL-3.0"]
image:https://img.shields.io/badge/Philosophy-Palimpsest-purple.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-licence"]

:toc:
:toclevels: 3
:icons: font
:source-highlighter: rouge

A **plan-first** system management and hardening tool — designed as a free/open alternative to “optimizer” utilities that nag, exaggerate, or sell fear.

[NOTE]
====
*Project status:* *Alpha - CLI Implementation Present*

The core `sor` CLI is implemented in D. Run `./sor help` for available commands.
====

== What it is

Operating Room is the part of the AmbientOps ecosystem responsible for **making changes safely**:

* **Scan**: collect evidence (no changes)
* **Plan**: propose reversible steps with previews
* **Apply**: execute only an approved plan
* **Undo**: roll back where possible
* **Receipt**: produce an auditable report of what was checked/changed

It is explicitly *anti-fearware*:

* No fake “error counts”
* No “registry cleaning for performance”
* No dark patterns, countdowns, or scare copy
* No silent downloads of third-party binaries

== Design goals

* **Trustworthy**: show evidence, not hype
* **Reversible-first**: prefer actions that can be undone
* **Least privilege**: elevation only when strictly necessary
* **Modular**: features ship as packs/adapters, not a monolith
* **Cross-platform**: core UI + OS-specific packs

== Planned modules

* **Health checks** (non-mutating diagnostics)
* **Security hardening** (guided, reversible where possible)
* **Staged updates** (checkpoints + rollback strategy)
* **Receipts & undo** (always-on audit trail)
* **Packs & adapters** (OS packs + optional connectors)

Remote / fleet capabilities may exist later, but the primary focus is the **everyday single-machine user**.

== Implementation approach (language)

Operating Room will be **D-first**, with **Rust for safety-critical components**.

* **D**: orchestration, core CLI, plan engine, pack runtime, high-velocity implementation
* **Rust (optional/targeted)**: privileged helpers, sandboxed runners, high-assurance execution paths

This keeps the project aligned with “do real work” ergonomics while still giving us a place to put the most sensitive code paths.

== Building

=== Prerequisites

* LDC2 (LLVM D Compiler) or DMD
* dub (D package manager)

On Fedora Kinoite:
[source,bash]
----
toolbox run sudo dnf install ldc ldc-libs
----

=== Compile

[source,bash]
----
toolbox run dub build --release
----

The binary will be at `./sor`.

== Usage

[source,bash]
----
./sor help           # Show available commands
./sor optimize       # System optimization (NVIDIA, firewall, journal)
./sor cleanup        # Clean caches and temp files
./sor sync           # Sync all git repositories
./sor check          # Check repos for uncommitted changes
./sor analyze        # Analyze GitHub workflow failures
./sor pages          # Check GitHub Pages status
----

== Repository contents

[cols="1,3,1",options="header"]
|===
| Component | Description | Status

| `src/main.d`
| Core CLI implementation in D
| ✓ Active

| `dub.json`
| D build configuration
| ✓ Active

| `.github/workflows/`
| CI/CD and forge mirroring
| ✓ Active

| `docs/`
| Specifications and design documents
| ✓ Active

| `hooks/`
| Workflow validation scripts
| ✓ Active
|===

== Security requirements (baseline)

* No MD5/SHA1
* HTTPS only
* No hardcoded secrets
* Dependencies must be pinned/locked
* Every change must produce a receipt (scan and apply)

== License

AGPL-3.0-or-later (plus Palimpsest where indicated).

== Ecosystem Analysis

This repository hosts the comprehensive seam analysis for the entire AmbientOps System Tools ecosystem:

link:docs/SEAM-ANALYSIS.adoc[docs/SEAM-ANALYSIS.adoc]

The analysis covers:

* 4 CRITICAL issues (race conditions, command injection, principle violations)
* 8 HIGH severity issues (schema gaps, enforcement failures)
* 12 MEDIUM issues (performance, ergonomics, documentation)
* Integration seam mapping across all subsystems
* Remediation roadmap with prioritized fixes

== Roadmap

See `ROADMAP.adoc`.
